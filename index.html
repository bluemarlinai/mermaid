<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid 在线编辑器</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1>Mermaid 在线编辑器</h1>
            <div class="toolbar">
                <button id="copy-btn" class="toolbar-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
                        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
                    </svg>
                    复制代码
                </button>
                <button id="download-btn" class="toolbar-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                        <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                    </svg>
                    下载图片
                </button>
                <button id="clear-btn" class="toolbar-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M14 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"/>
                        <path d="M6.5 1.293a1 1 0 0 1 1 0L8 2.101l1.5-1.138a1 1 0 1 1 1.25 1.601L9.25 4l1.5 1.138a1 1 0 1 1-1.25 1.601L8 5.699 6.75 6.837a1 1 0 0 1-1.25-1.601L6.75 4 5.25 2.862a1 1 0 0 1 0-1.601z"/>
                    </svg>
                    清空
                </button>
            </div>
        </header>

        <div class="main-content">
            <div class="editor-panel">
                <div class="panel-header">
                    <h2>Mermaid 代码</h2>
                    <select id="diagram-type" class="diagram-select">
                        <option value="flowchart">流程图</option>
                        <option value="sequenceDiagram">时序图</option>
                        <option value="classDiagram">类图</option>
                        <option value="stateDiagram">状态图</option>
                        <option value="entityRelationshipDiagram">实体关系图</option>
                        <option value="gantt">甘特图</option>
                        <option value="pie">饼图</option>
                        <option value="requirementDiagram">需求图</option>
                    </select>
                </div>
                <textarea id="mermaid-code" class="code-editor">graph TD
    A[开始] --> B{条件判断}
    B -->|是| C[执行操作1]
    B -->|否| D[执行操作2]
    C --> E[结束]
    D --> E</textarea>
            </div>

            <div class="preview-panel">
                <div class="panel-header">
                    <h2>预览</h2>
                    <div class="zoom-controls">
                        <button id="zoom-out" class="toolbar-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M9 13h2v-2H9v2zm0-4h2V7H9v2zm0-4h2V3H9v2z"/>
                                <path d="M11.5 2A2.5 2.5 0 0 1 14 4.5v7a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 11.5v-7A2.5 2.5 0 0 1 4.5 2h7zm-7 1A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7z"/>
                            </svg>
                            缩小
                        </button>
                        <span id="zoom-level" class="zoom-level">100%</span>
                        <button id="zoom-in" class="toolbar-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M11 13h2v-2h-2v2zm0-4h2V7h-2v2zm0-4h2V3h-2v2zm-3.5 1a2.5 2.5 0 0 1 0-5h-7a2.5 2.5 0 0 1 0 5h7zm-7 1a1.5 1.5 0 0 0 0 3h7a1.5 1.5 0 0 0 0-3h-7zm3.5 6a2.5 2.5 0 0 1 0-5h7a2.5 2.5 0 0 1 0 5h-7zm7-1a1.5 1.5 0 0 0 0-3h-7a1.5 1.5 0 0 0 0 3h7z"/>
                            </svg>
                            放大
                        </button>
                        <button id="fullscreen-btn" class="toolbar-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>
                            </svg>
                            全屏
                        </button>
                    </div>
                </div>
                <div id="preview-container" class="preview-container">
                    <div id="mermaid-preview" class="mermaid"></div>
                </div>
            </div>
        </div>

        <div class="icon-library">
            <div class="panel-header">
                <h2>图标库</h2>
                <button id="toggle-icons" class="toggle-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 0-.708z"/>
                    </svg>
                </button>
            </div>
            <div id="icon-grid" class="icon-grid">
                <div class="icon-item" data-code="[开始]">开始</div>
                <div class="icon-item" data-code="[结束]">结束</div>
                <div class="icon-item" data-code="{条件}">条件</div>
                <div class="icon-item" data-code="[操作]">操作</div>
                <div class="icon-item" data-code="[输入]">输入</div>
                <div class="icon-item" data-code="[输出]">输出</div>
                <div class="icon-item" data-code="[数据库]">数据库</div>
                <div class="icon-item" data-code="[子流程]">子流程</div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>